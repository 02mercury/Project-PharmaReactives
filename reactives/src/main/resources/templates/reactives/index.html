<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
                xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>All reactives</title>

    <style>

        body{
            font-family: "Montserrat SemiBold", sans-serif;
            letter-spacing: 0.075em;
            font-size: 14px;
        }

        header {
            background-color: white;
            padding: 10px;
            text-align: center;
        }

        header img {
            height: 200px;
        }

        main {
            padding: 20px;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            max-width: 850px;
            margin: 0 auto;

            margin-top: 50px;
            margin-bottom: 20px;
        }

        th, td {
            padding: 8px;
            text-align: center;
            font-weight: bold;
            color: #353c4e;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
            border-bottom: 2px solid #ccc;
        }

        tr:nth-child(odd) {
            background-color: #fff;
            border-bottom: 2px solid #ccc;
        }

        th {
            background-color: #1E2022;
            color: #fff;
            text-align: center;
        }

        th a {
            color: #0098DA;
            text-decoration: none;
        }

        th a:hover {
            color: #0098DA;
            text-decoration: underline;
        }

        .employee {
            margin: auto;
            display: block;
            text-align: center;

            margin-top: 15px;
            color: #1E2022;
        }
        .admin {
            margin: auto;
            display: block;
            text-align: center;

            margin-top: 15px;
            color: #ED504E;
        }

        .user {
            margin: auto;
            display: block;
            text-align: center;

            margin-top: 15px;
            color: #1E2022;
        }

        a {
            text-decoration: none;
            color: #0098DA;
            margin: 0 auto;
            font-weight: bold;
        }

        h1 {
            text-align: center;
            font-weight: bold;
        }

        .pagination{
            margin: 0 auto;
            display: block;
            width: 100%;
            text-align: center;
        }

        .actions {
            justify-content: space-between;
            align-items: center;
            width: 150px;
            display: flex;
        }

        .submit {
            background-color: #0098DA;
            border: none;
            color: white;
            padding: 10px 32px;
            text-decoration: none;
            margin: 0 auto;
            display: block;

            cursor: pointer;
            margin-top: 15px;

            font-family: "Montserrat SemiBold", sans-serif;
            letter-spacing: 0.075em;
            font-size: 14px;

            width: 125px;
        }

        .btn-delete {
            background-color: #ED504E;
            border: none;
            font-family: "Montserrat SemiBold", sans-serif;
            font-size: 12px;
            letter-spacing: 1px;
            color: white;
            padding: 5px 10px;
            text-decoration: none;

            cursor: pointer;

            border-radius: 5px;
            border-bottom: 2px solid #ccc;
        }

        .btn-edit{
            background-color: #0ea96b;
            border: none;
            font-family: "Montserrat SemiBold", sans-serif;
            font-size: 12px;
            letter-spacing: 1px;
            color: white;
            padding: 5px 10px;
            text-decoration: none;

            cursor: pointer;
            margin-right: 10px;
            margin-left: 20px;
            border-radius: 5px;
            border-bottom: 2px solid #ccc;

            text-decoration: none;
        }

        .btn-edit:hover{
            background-color: #02945d;
        }

        .btn-delete:hover{
            background-color: #d53a3a;
        }

        .page {
            display: inline-block;
            margin: 0 5px;

            border: 1px solid #ccc;
            border-bottom: 3px solid #ccc;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
        }

        .selected-page {
            display: inline-block;
            margin: 0 5px;
            border: 2px solid #ccc;

            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
        }

    </style>
</head>
<body>

<header>
    <img th:src="@{/images/PharmaReactives-logo.png}"/>
</header>
<hr/>
<main>
    <h1>List of Reactives</h1>
    <table class="table">
        <tr>

            <th sec:authorize="hasAnyRole('ADMIN', 'EMPLOYEE')">
                <a th:href="@{'/reactives/page/' + ${currentPage} + '?sortField=id&sortDir=' + ${reverseSortDir} + '&size=' + ${size}}">id</a>
            </th>
            <th>
                <a th:href="@{'/reactives/page/' + ${currentPage} + '?sortField=name&sortDir=' + ${reverseSortDir} + '&size=' + ${size}}">name</a>
            </th>
            <th>
                <!--       reactive-icon         -->
            </th>
            <th>formula</th>
            <th>
                <a th:href="@{'/reactives/page/' + ${currentPage} + '?sortField=stock&sortDir=' + ${reverseSortDir} + '&size=' + ${size}}">stock</a>
            </th>
            <th>
                <a th:href="@{'/reactives/page/' + ${currentPage} + '?sortField=price&sortDir=' + ${reverseSortDir} + '&size=' + ${size}}">price</a>
            </th>
            <th sec:authorize="hasAnyRole('ADMIN', 'EMPLOYEE')">actions</th>
        </tr>
        <tr th:each="reactive : ${reactiveList}">
            <td sec:authorize="hasAnyRole('ADMIN', 'EMPLOYEE')" th:text="${reactive.getId()}">ID</td>
            <td th:text="${reactive.getName()}">NAME</td>
            <td><img th:src="@{/images/reactive.png}" width="32px"/></td>
            <td th:text="${reactive.getFormula()}">FORMULA</td>
            <td th:text="${reactive.getStock() + ' mg'}">STOCK mg</td>
            <td th:text="${reactive.getPrice() + ' mdl'}">PRICE mdl</td>
            <td class="actions" sec:authorize="hasAnyRole('ADMIN', 'EMPLOYEE')">
                <a class="btn-edit" th:href="@{/reactives/{id}/edit(id=${reactive.getId()})}">EDIT</a>
                <form th:method="DELETE" th:action="@{/reactives/{id}(id=${reactive.getId()})}">
                    <input class="btn-delete" type="submit" value="DELETE"/>
                </form>
            </td>

        </tr>
    </table>
    <div class="pagination">
        Total Items: [[${totalItems}]] - Page [[${currentPage}]] of [[${totalPages}]]
        &nbsp; - &nbsp;

        <a th:if="${currentPage > 1}" th:href="@{'/reactives/page/1?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + '&size=' + ${size}}">First</a>
        <span style="color: grey" th:unless="${currentPage > 1}">First</span>
        &nbsp;&nbsp;

        <a th:if="${currentPage > 1}" th:href="@{'/reactives/page/' + ${currentPage - 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + '&size=' + ${size}}">Previous</a>
        <span style="color: grey" th:unless="${currentPage > 1}">Previous</span>
        &nbsp;&nbsp;

        <span  th:each="i : ${#numbers.sequence(1, totalPages)}">
            <a class="page" th:if="${i != currentPage}" th:href="@{'/reactives/page/' + ${i} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + '&size=' + ${size}}">[[${i}]]</a>
            <span class="selected-page" style="color: #1E2022;" th:unless="${i != currentPage}">[[${i}]]</span>
        </span>

        &nbsp;

        <a th:if="${currentPage < totalPages}" th:href="@{'/reactives/page/' + ${currentPage + 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + '&size=' + ${size}}">Next</a>
        <span style="color: grey" th:unless="${currentPage < totalPages}">Next</span>
        &nbsp;&nbsp;

        <a th:if="${currentPage < totalPages}" th:href="@{'/reactives/page/' + ${totalPages} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + '&size=' + ${size}}">Last</a>
        <span style="color: grey" th:unless="${currentPage <  totalPages}">Last</span>

        <br/>
        <br/>
        Show number of rows:
        &nbsp;&nbsp;
        <a th:if="${size != 5}" th:href="@{'/reactives/page/1?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + '&size=5'}">5</a>
        <span style="color: grey" th:unless="${size != 5}">5</span>

        &nbsp;&nbsp;
        <a th:if="${size != 10}" th:href="@{'/reactives/page/1?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + '&size=10'}">10</a>
        <span style="color: grey" th:unless="${size != 10}">10</span>

        &nbsp;&nbsp;
        <a th:if="${size != 20}" th:href="@{'/reactives/page/1?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + '&size=20'}">20</a>
        <span style="color: grey" th:unless="${size != 20}">20</span>

    </div>



</main>
<hr/>

<form th:action="@{/logout}" th:method="POST">
    <input class="submit" type="submit" value="LOGOUT"/>
</form>

<div class="user" sec:authorize="hasRole('USER')">
    <b>[role : user]</b>
</div>

<div class="employee" sec:authorize="hasAnyRole('ADMIN', 'EMPLOYEE', 'USER')">
    <a href="/cart">Shopping cart</a>

    <a href="/medicines">List of medicines</a>
    <br/>
</div>

<div class="employee" sec:authorize="hasAnyRole('ADMIN', 'EMPLOYEE')">
    <b>[role: employee]</b>
    <a href="/reactives/new">Create new reactive</a>
    <br/>
</div>

<div class="admin" sec:authorize="hasRole('ADMIN')">
    <b>[role: admin]</b>
    <a href="/accounts">List of accounts</a>
</div>



</body>
</html>